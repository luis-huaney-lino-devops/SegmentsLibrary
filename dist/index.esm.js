import t,{useRef as e,useEffect as i}from"react";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function h(t){this.displayId=t,this.pattern="#####",this.value="TUTEC",this.digitHeight=24,this.digitWidth=15,this.digitDistance=2.5,this.displayAngle=6,this.segmentWidth=3,this.segmentDistance=.3,this.segmentCount=h.FourteenSegment,this.cornerType=h.RoundedCorner,this.colorOn="rgb(7, 93, 151)",this.colorOff="rgba(118, 130, 151, 0.25)"}h.SevenSegment=7,h.FourteenSegment=14,h.SixteenSegment=16,h.SymmetricCorner=0,h.SquaredCorner=1,h.RoundedCorner=2,h.prototype.setValue=function(t){this.value=t,this.draw()},h.prototype.draw=function(){var t=document.getElementById(this.displayId);if(t){var e=t.getContext("2d");if(e){e.clearRect(0,0,t.width,t.height);var i=0,s=!0;if(this.pattern)for(var h=0;h<this.pattern.length;h++){var n=this.pattern.charAt(h).toLowerCase();if("#"==n)i+=this.digitWidth;else if("."==n||":"==n)i+=this.segmentWidth;else if(" "!=n)return;i+=s?0:this.digitDistance,s=!1}if(i<=0)return;var o=-1*Math.max(-45,Math.min(45,this.displayAngle)),r=Math.tan(o*Math.PI/180),l=Math.min(t.width/(i+Math.abs(r*this.digitHeight)),t.height/this.digitHeight),a=(t.width-(i+r*this.digitHeight)*l)/2,d=(t.height-this.digitHeight*l)/2;e.save(),e.translate(a,d),e.scale(l,l),e.transform(1,0,r,1,0,0);var g=0,c=this.value?this.value.length:0;for(h=0;h<this.pattern.length;h++){var m=this.pattern.charAt(h),u=h<c?this.value.charAt(h).toLowerCase():" ";g+=this.drawDigit(e,g,m,u)}e.restore()}}},h.prototype.drawDigit=function(t,e,i,s){switch(i){case"#":var n=Math.sqrt(this.segmentWidth*this.segmentWidth/2),o=Math.sqrt(this.segmentDistance*this.segmentDistance/2),r=o/2,l=(this.segmentWidth-o)*Math.sin(45*Math.PI/180),a=l/2,d=(this.digitHeight-3*this.segmentWidth)/2,g=(this.digitWidth-3*this.segmentWidth)/2,c=this.segmentWidth/2,m=this.digitWidth/2;if(16==this.segmentCount){var u=e,f=0;switch(t.fillStyle=this.getSegmentColor(s,null,"02356789abcdefgiopqrstz@%"),t.beginPath(),this.cornerType){case h.SymmetricCorner:t.moveTo(u+c+o,f+c),t.lineTo(u+this.segmentWidth+o,f);break;case h.SquaredCorner:t.moveTo(u+c+r,f+c-r),t.lineTo(u+this.segmentWidth,f);break;default:t.moveTo(u+this.segmentWidth-l,f+this.segmentWidth-l-o),t.quadraticCurveTo(u+this.segmentWidth-a,f,u+this.segmentWidth,f)}t.lineTo(u+m-o-c,f),t.lineTo(u+m-o,f+c),t.lineTo(u+m-o-c,f+this.segmentWidth),t.lineTo(u+this.segmentWidth+o,f+this.segmentWidth),t.fill();u=e,f=0;switch(t.fillStyle=this.getSegmentColor(s,null,"02356789abcdefgiopqrstz@"),t.beginPath(),t.moveTo(u+this.digitWidth-this.segmentWidth-o,f+this.segmentWidth),t.lineTo(u+m+o+c,f+this.segmentWidth),t.lineTo(u+m+o,f+c),t.lineTo(u+m+o+c,f),this.cornerType){case h.SymmetricCorner:t.lineTo(u+this.digitWidth-this.segmentWidth-o,f),t.lineTo(u+this.digitWidth-c-o,f+c);break;case h.SquaredCorner:t.lineTo(u+this.digitWidth-this.segmentWidth,f),t.lineTo(u+this.digitWidth-c-r,f+c-r);break;default:t.lineTo(u+this.digitWidth-this.segmentWidth,f),t.quadraticCurveTo(u+this.digitWidth-this.segmentWidth+a,f,u+this.digitWidth-this.segmentWidth+l,f+this.segmentWidth-l-o)}t.fill()}else{u=e,f=0;switch(t.fillStyle=this.getSegmentColor(s,"02356789acefp","02356789abcdefgiopqrstz@"),t.beginPath(),this.cornerType){case h.SymmetricCorner:t.moveTo(u+c+o,f+c),t.lineTo(u+this.segmentWidth+o,f),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f),t.lineTo(u+this.digitWidth-c-o,f+c);break;case h.SquaredCorner:t.moveTo(u+c+r,f+c-r),t.lineTo(u+this.segmentWidth,f),t.lineTo(u+this.digitWidth-this.segmentWidth,f),t.lineTo(u+this.digitWidth-c-r,f+c-r);break;default:t.moveTo(u+this.segmentWidth-l,f+this.segmentWidth-l-o),t.quadraticCurveTo(u+this.segmentWidth-a,f,u+this.segmentWidth,f),t.lineTo(u+this.digitWidth-this.segmentWidth,f),t.quadraticCurveTo(u+this.digitWidth-this.segmentWidth+a,f,u+this.digitWidth-this.segmentWidth+l,f+this.segmentWidth-l-o)}t.lineTo(u+this.digitWidth-this.segmentWidth-o,f+this.segmentWidth),t.lineTo(u+this.segmentWidth+o,f+this.segmentWidth),t.fill()}switch(u=e+this.digitWidth-this.segmentWidth,f=0,t.fillStyle=this.getSegmentColor(s,"01234789adhpy","01234789abdhjmnopqruwy"),t.beginPath(),this.cornerType){case h.SymmetricCorner:t.moveTo(u+c,f+c+o),t.lineTo(u+this.segmentWidth,f+this.segmentWidth+o);break;case h.SquaredCorner:t.moveTo(u+c+r,f+c+r),t.lineTo(u+this.segmentWidth,f+this.segmentWidth);break;default:t.moveTo(u+l+o,f+this.segmentWidth-l),t.quadraticCurveTo(u+this.segmentWidth,f+this.segmentWidth-a,u+this.segmentWidth,f+this.segmentWidth)}switch(t.lineTo(u+this.segmentWidth,f+d+this.segmentWidth-o),t.lineTo(u+c,f+d+this.segmentWidth+c-o),t.lineTo(u,f+d+this.segmentWidth-o),t.lineTo(u,f+this.segmentWidth+o),t.fill(),u=e+this.digitWidth-this.segmentWidth,f=d+this.segmentWidth,t.fillStyle=this.getSegmentColor(s,"013456789abdhnouy","01346789abdghjmnoqsuw@","%"),t.beginPath(),t.moveTo(u,f+this.segmentWidth+o),t.lineTo(u+c,f+c+o),t.lineTo(u+this.segmentWidth,f+this.segmentWidth+o),t.lineTo(u+this.segmentWidth,f+d+this.segmentWidth-o),this.cornerType){case h.SymmetricCorner:t.lineTo(u+c,f+d+this.segmentWidth+c-o),t.lineTo(u,f+d+this.segmentWidth-o);break;case h.SquaredCorner:t.lineTo(u+c+r,f+d+this.segmentWidth+c-r),t.lineTo(u,f+d+this.segmentWidth-o);break;default:t.quadraticCurveTo(u+this.segmentWidth,f+d+this.segmentWidth+a,u+l+o,f+d+this.segmentWidth+l),t.lineTo(u,f+d+this.segmentWidth-o)}if(t.fill(),16==this.segmentCount){switch(u=e,f=this.digitHeight-this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0235689bcdegijloqsuz_=@"),t.beginPath(),t.moveTo(u+this.segmentWidth+o,f),t.lineTo(u+m-o-c,f),t.lineTo(u+m-o,f+c),t.lineTo(u+m-o-c,f+this.segmentWidth),this.cornerType){case h.SymmetricCorner:t.lineTo(u+this.segmentWidth+o,f+this.segmentWidth),t.lineTo(u+c+o,f+c);break;case h.SquaredCorner:t.lineTo(u+this.segmentWidth,f+this.segmentWidth),t.lineTo(u+c+r,f+c+r);break;default:t.lineTo(u+this.segmentWidth,f+this.segmentWidth),t.quadraticCurveTo(u+this.segmentWidth-a,f+this.segmentWidth,u+this.segmentWidth-l,f+l+o),t.lineTo(u+this.segmentWidth-l,f+l+o)}switch(t.fill(),u=e,f=this.digitHeight-this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0235689bcdegijloqsuz_=@","%"),t.beginPath(),t.moveTo(u+m+o+c,f+this.segmentWidth),t.lineTo(u+m+o,f+c),t.lineTo(u+m+o+c,f),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f),this.cornerType){case h.SymmetricCorner:t.lineTo(u+this.digitWidth-c-o,f+c),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f+this.segmentWidth);break;case h.SquaredCorner:t.lineTo(u+this.digitWidth-c-r,f+c+r),t.lineTo(u+this.digitWidth-this.segmentWidth,f+this.segmentWidth);break;default:t.lineTo(u+this.digitWidth-this.segmentWidth+l,f+l+o),t.quadraticCurveTo(u+this.digitWidth-this.segmentWidth+a,f+this.segmentWidth,u+this.digitWidth-this.segmentWidth,f+this.segmentWidth)}t.fill()}else{switch(u=e,f=this.digitHeight-this.segmentWidth,t.fillStyle=this.getSegmentColor(s,"0235689bcdelotuy_","0235689bcdegijloqsuz_=@"),t.beginPath(),t.moveTo(u+this.segmentWidth+o,f),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f),this.cornerType){case h.SymmetricCorner:t.lineTo(u+this.digitWidth-c-o,f+c),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f+this.segmentWidth),t.lineTo(u+this.segmentWidth+o,f+this.segmentWidth),t.lineTo(u+c+o,f+c);break;case h.SquaredCorner:t.lineTo(u+this.digitWidth-c-r,f+c+r),t.lineTo(u+this.digitWidth-this.segmentWidth,f+this.segmentWidth),t.lineTo(u+this.segmentWidth,f+this.segmentWidth),t.lineTo(u+c+r,f+c+r);break;default:t.lineTo(u+this.digitWidth-this.segmentWidth+l,f+l+o),t.quadraticCurveTo(u+this.digitWidth-this.segmentWidth+a,f+this.segmentWidth,u+this.digitWidth-this.segmentWidth,f+this.segmentWidth),t.lineTo(u+this.segmentWidth,f+this.segmentWidth),t.quadraticCurveTo(u+this.segmentWidth-a,f+this.segmentWidth,u+this.segmentWidth-l,f+l+o),t.lineTo(u+this.segmentWidth-l,f+l+o)}t.fill()}switch(u=e,f=d+this.segmentWidth,t.fillStyle=this.getSegmentColor(s,"0268abcdefhlnoprtu","0268acefghjklmnopqruvw@"),t.beginPath(),t.moveTo(u,f+this.segmentWidth+o),t.lineTo(u+c,f+c+o),t.lineTo(u+this.segmentWidth,f+this.segmentWidth+o),t.lineTo(u+this.segmentWidth,f+d+this.segmentWidth-o),this.cornerType){case h.SymmetricCorner:t.lineTo(u+c,f+d+this.segmentWidth+c-o),t.lineTo(u,f+d+this.segmentWidth-o);break;case h.SquaredCorner:t.lineTo(u+c-r,f+d+this.segmentWidth+c-o+r),t.lineTo(u,f+d+this.segmentWidth);break;default:t.lineTo(u+this.segmentWidth-l-o,f+d+this.segmentWidth+l),t.quadraticCurveTo(u,f+d+this.segmentWidth+a,u,f+d+this.segmentWidth)}switch(t.fill(),u=e,f=0,t.fillStyle=this.getSegmentColor(s,"045689abcefhlpty","045689acefghklmnopqrsuvwy@","%"),t.beginPath(),t.moveTo(u+this.segmentWidth,f+this.segmentWidth+o),t.lineTo(u+this.segmentWidth,f+d+this.segmentWidth-o),t.lineTo(u+c,f+d+this.segmentWidth+c-o),t.lineTo(u,f+d+this.segmentWidth-o),this.cornerType){case h.SymmetricCorner:t.lineTo(u,f+this.segmentWidth+o),t.lineTo(u+c,f+c+o);break;case h.SquaredCorner:t.lineTo(u,f+this.segmentWidth),t.lineTo(u+c-r,f+c+r);break;default:t.lineTo(u,f+this.segmentWidth),t.quadraticCurveTo(u,f+this.segmentWidth-a,u+this.segmentWidth-l-o,f+this.segmentWidth-l),t.lineTo(u+this.segmentWidth-l-o,f+this.segmentWidth-l)}return t.fill(),7==this.segmentCount&&(u=e,f=(this.digitHeight-this.segmentWidth)/2,t.fillStyle=this.getSegmentColor(s,"2345689abdefhnoprty-="),t.beginPath(),t.moveTo(u+c+o,f+c),t.lineTo(u+this.segmentWidth+o,f),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f),t.lineTo(u+this.digitWidth-c-o,f+c),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f+this.segmentWidth),t.lineTo(u+this.segmentWidth+o,f+this.segmentWidth),t.fill()),7!=this.segmentCount&&(u=e,f=(this.digitHeight-this.segmentWidth)/2,t.fillStyle=this.getSegmentColor(s,null,"2345689aefhkprsy-+*=","%"),t.beginPath(),t.moveTo(u+c+o,f+c),t.lineTo(u+this.segmentWidth+o,f),t.lineTo(u+m-o-c,f),t.lineTo(u+m-o,f+c),t.lineTo(u+m-o-c,f+this.segmentWidth),t.lineTo(u+this.segmentWidth+o,f+this.segmentWidth),t.fill(),u=e,f=(this.digitHeight-this.segmentWidth)/2,t.fillStyle=this.getSegmentColor(s,null,"234689abefghprsy-+*=@","%"),t.beginPath(),t.moveTo(u+m+o,f+c),t.lineTo(u+m+o+c,f),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f),t.lineTo(u+this.digitWidth-c-o,f+c),t.lineTo(u+this.digitWidth-this.segmentWidth-o,f+this.segmentWidth),t.lineTo(u+m+o+c,f+this.segmentWidth),t.fill(),u=e+m-c,f=0,t.fillStyle=this.getSegmentColor(s,null,"bdit+*","%"),t.beginPath(),14==this.segmentCount?(t.moveTo(u,f+this.segmentWidth+this.segmentDistance),t.lineTo(u+this.segmentWidth,f+this.segmentWidth+this.segmentDistance)):(t.moveTo(u,f+this.segmentWidth+o),t.lineTo(u+c,f+c+o),t.lineTo(u+this.segmentWidth,f+this.segmentWidth+o)),t.lineTo(u+this.segmentWidth,f+d+this.segmentWidth-o),t.lineTo(u+c,f+d+this.segmentWidth+c-o),t.lineTo(u,f+d+this.segmentWidth-o),t.fill(),u=e+m-c,f=this.digitHeight,t.fillStyle=this.getSegmentColor(s,null,"bdity+*@","%"),t.beginPath(),14==this.segmentCount?(t.moveTo(u,f-this.segmentWidth-this.segmentDistance),t.lineTo(u+this.segmentWidth,f-this.segmentWidth-this.segmentDistance)):(t.moveTo(u,f-this.segmentWidth-o),t.lineTo(u+c,f-c-o),t.lineTo(u+this.segmentWidth,f-this.segmentWidth-o)),t.lineTo(u+this.segmentWidth,f-d-this.segmentWidth+o),t.lineTo(u+c,f-d-this.segmentWidth-c+o),t.lineTo(u,f-d-this.segmentWidth+o),t.fill(),u=e+this.segmentWidth,f=this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"mnx\\*"),t.beginPath(),t.moveTo(u+this.segmentDistance,f+this.segmentDistance),t.lineTo(u+this.segmentDistance+n,f+this.segmentDistance),t.lineTo(u+g-this.segmentDistance,f+d-this.segmentDistance-n),t.lineTo(u+g-this.segmentDistance,f+d-this.segmentDistance),t.lineTo(u+g-this.segmentDistance-n,f+d-this.segmentDistance),t.lineTo(u+this.segmentDistance,f+this.segmentDistance+n),t.fill(),u=e+g+2*this.segmentWidth,f=this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0kmvxz/*","%"),t.beginPath(),t.moveTo(u+g-this.segmentDistance,f+this.segmentDistance),t.lineTo(u+g-this.segmentDistance,f+this.segmentDistance+n),t.lineTo(u+this.segmentDistance+n,f+d-this.segmentDistance),t.lineTo(u+this.segmentDistance,f+d-this.segmentDistance),t.lineTo(u+this.segmentDistance,f+d-this.segmentDistance-n),t.lineTo(u+g-this.segmentDistance-n,f+this.segmentDistance),t.fill(),u=e+g+2*this.segmentWidth,f=d+2*this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"5knqrwx\\*"),t.beginPath(),t.moveTo(u+this.segmentDistance,f+this.segmentDistance),t.lineTo(u+this.segmentDistance+n,f+this.segmentDistance),t.lineTo(u+g-this.segmentDistance,f+d-this.segmentDistance-n),t.lineTo(u+g-this.segmentDistance,f+d-this.segmentDistance),t.lineTo(u+g-this.segmentDistance-n,f+d-this.segmentDistance),t.lineTo(u+this.segmentDistance,f+this.segmentDistance+n),t.fill(),u=e+this.segmentWidth,f=d+2*this.segmentWidth,t.fillStyle=this.getSegmentColor(s,null,"0vwxz/*","%"),t.beginPath(),t.moveTo(u+g-this.segmentDistance,f+this.segmentDistance),t.lineTo(u+g-this.segmentDistance,f+this.segmentDistance+n),t.lineTo(u+this.segmentDistance+n,f+d-this.segmentDistance),t.lineTo(u+this.segmentDistance,f+d-this.segmentDistance),t.lineTo(u+this.segmentDistance,f+d-this.segmentDistance-n),t.lineTo(u+g-this.segmentDistance-n,f+this.segmentDistance),t.fill()),this.digitDistance+this.digitWidth;case".":return t.fillStyle="#"==s||"."==s?this.colorOn:this.colorOff,this.drawPoint(t,e,this.digitHeight-this.segmentWidth,this.segmentWidth),this.digitDistance+this.segmentWidth;case":":t.fillStyle="#"==s||":"==s?this.colorOn:this.colorOff;f=(this.digitHeight-this.segmentWidth)/2-this.segmentWidth;return this.drawPoint(t,e,f,this.segmentWidth),this.drawPoint(t,e,f+2*this.segmentWidth,this.segmentWidth),this.digitDistance+this.segmentWidth;default:return this.digitDistance}},h.prototype.drawPoint=function(t,e,i,s){var h=e+s,n=i+s,o=s/4;t.beginPath(),t.moveTo(h-o,i),t.quadraticCurveTo(h,i,h,i+o),t.lineTo(h,n-o),t.quadraticCurveTo(h,n,h-o,n),t.lineTo(e+o,n),t.quadraticCurveTo(e,n,e,n-o),t.lineTo(e,i+o),t.quadraticCurveTo(e,i,e+o,i),t.fill()},h.prototype.getSegmentColor=function(t,e,i,s){if("#"==t)return this.colorOn;switch(this.segmentCount){case 7:return-1==e.indexOf(t)?this.colorOff:this.colorOn;case 14:return-1==i.indexOf(t)?this.colorOff:this.colorOn;case 16:return-1==(i+(void 0===s?"":s)).indexOf(t)?this.colorOff:this.colorOn;default:return this.colorOff}},document.createElement("canvas").getContext||function(){var t=Math,e=t.round,i=t.sin,h=t.cos,n=t.abs,o=t.sqrt,r=10;function l(){return this.context_||(this.context_=new p(this))}var a=Array.prototype.slice;var d={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e,i){var s=a.call(arguments,2);return function(){return t.apply(e,s.concat(a.call(arguments)))}}(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),s=0;s<i.length;s++)this.initElement(i[s])},initElement:function(t){if(!t.getContext){t.getContext=l,t.innerHTML="",t.attachEvent("onpropertychange",g),t.attachEvent("onresize",c);var e=t.attributes;e.width&&e.width.specified?t.style.width=e.width.nodeValue+"px":t.width=t.clientWidth,e.height&&e.height.specified?t.style.height=e.height.nodeValue+"px":t.height=t.clientHeight}return t}};function g(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function c(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}d.init();for(var m=[],u=0;u<16;u++)for(var f=0;f<16;f++)m[16*u+f]=u.toString(16)+f.toString(16);function W(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],s=0;s<3;s++)for(var h=0;h<3;h++){for(var n=0,o=0;o<3;o++)n+=t[s][o]*e[o][h];i[s][h]=n}return i}function T(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function y(t){var e,i=1;if("rgb"==(t=String(t)).substring(0,3)){var s=t.indexOf("(",3),h=t.indexOf(")",s+1),n=t.substring(s+1,h).split(",");e="#";for(var o=0;o<3;o++)e+=m[Number(n[o])];4==n.length&&"a"==t.substr(3,1)&&(i=n[3])}else e=t;return{color:e,alpha:i}}function p(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=10,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.overflow="hidden",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}var v=p.prototype;function _(t,e,i,s){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:s.x,y:s.y}),t.currentX_=s.x,t.currentY_=s.y}function S(t,e,i){if(function(t){for(var e=0;e<3;e++)for(var i=0;i<2;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}(e)&&(t.m_=e,i)){var s=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=o(n(s))}}function x(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function C(){}v.clearRect=function(){this.element_.innerHTML=""},v.beginPath=function(){this.currentPath_=[]},v.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},v.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},v.bezierCurveTo=function(t,e,i,s,h,n){var o=this.getCoords_(h,n);_(this,this.getCoords_(t,e),this.getCoords_(i,s),o)},v.quadraticCurveTo=function(t,e,i,s){var h=this.getCoords_(t,e),n=this.getCoords_(i,s),o={x:this.currentX_+2/3*(h.x-this.currentX_),y:this.currentY_+2/3*(h.y-this.currentY_)};_(this,o,{x:o.x+(n.x-this.currentX_)/3,y:o.y+(n.y-this.currentY_)/3},n)},v.arc=function(t,e,s,n,o,l){s*=r;var a=l?"at":"wa",d=t+h(n)*s-5,g=e+i(n)*s-5,c=t+h(o)*s-5,m=e+i(o)*s-5;d!=c||l||(d+=.125);var u=this.getCoords_(t,e),f=this.getCoords_(d,g),W=this.getCoords_(c,m);this.currentPath_.push({type:a,x:u.x,y:u.y,radius:s,xStart:f.x,yStart:f.y,xEnd:W.x,yEnd:W.y})},v.rect=function(t,e,i,s){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath()},v.strokeRect=function(t,e,i,s){var h=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.stroke(),this.currentPath_=h},v.fillRect=function(t,e,i,s){var h=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.fill(),this.currentPath_=h},v.createLinearGradient=function(t,e,i,s){var h=new x("gradient");return h.x0_=t,h.y0_=e,h.x1_=i,h.y1_=s,h},v.createRadialGradient=function(t,e,i,s,h,n){var o=new x("gradientradial");return o.x0_=t,o.y0_=e,o.r0_=i,o.x1_=s,o.y1_=h,o.r1_=n,o},v.drawImage=function(i,s){var h,n,o,l,a,d,g,c,m=i.runtimeStyle.width,u=i.runtimeStyle.height;i.runtimeStyle.width="auto",i.runtimeStyle.height="auto";var f=i.width,W=i.height;if(i.runtimeStyle.width=m,i.runtimeStyle.height=u,3==arguments.length)h=arguments[1],n=arguments[2],a=d=0,g=o=f,c=l=W;else if(5==arguments.length)h=arguments[1],n=arguments[2],o=arguments[3],l=arguments[4],a=d=0,g=f,c=W;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],d=arguments[2],g=arguments[3],c=arguments[4],h=arguments[5],n=arguments[6],o=arguments[7],l=arguments[8]}var T=this.getCoords_(h,n),y=[];if(y.push(" <g_vml_:group",' coordsize="',100,",",100,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var p=[];p.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",e(T.x/r),",","Dy=",e(T.y/r),"");var v=T,_=this.getCoords_(h+o,n),S=this.getCoords_(h,n+l),x=this.getCoords_(h+o,n+l);v.x=t.max(v.x,_.x,S.x,x.x),v.y=t.max(v.y,_.y,S.y,x.y),y.push("padding:0 ",e(v.x/r),"px ",e(v.y/r),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",p.join(""),", sizingmethod='clip');")}else y.push("top:",e(T.y/r),"px;left:",e(T.x/r),"px;");y.push(' ">','<g_vml_:image src="',i.src,'"',' style="width:',r*o,"px;"," height:",r*l,'px;"',' cropleft="',a/f,'"',' croptop="',d/W,'"',' cropright="',(f-a-g)/f,'"',' cropbottom="',(W-d-c)/W,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",y.join(""))},v.stroke=function(i){var h=[],n=y(i?this.fillStyle:this.strokeStyle),o=n.color,l=n.alpha*this.globalAlpha;h.push("<g_vml_:shape",' filled="',!!i,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',100," ",100,'"',' stroked="',!i,'"',' path="');for(var a={x:null,y:null},d={x:null,y:null},g=0;g<this.currentPath_.length;g++){var c=this.currentPath_[g];switch(c.type){case"moveTo":h.push(" m ",e(c.x),",",e(c.y));break;case"lineTo":h.push(" l ",e(c.x),",",e(c.y));break;case"close":h.push(" x "),c=null;break;case"bezierCurveTo":h.push(" c ",e(c.cp1x),",",e(c.cp1y),",",e(c.cp2x),",",e(c.cp2y),",",e(c.x),",",e(c.y));break;case"at":case"wa":h.push(" ",c.type," ",e(c.x-this.arcScaleX_*c.radius),",",e(c.y-this.arcScaleY_*c.radius)," ",e(c.x+this.arcScaleX_*c.radius),",",e(c.y+this.arcScaleY_*c.radius)," ",e(c.xStart),",",e(c.yStart)," ",e(c.xEnd),",",e(c.yEnd))}c&&((null==a.x||c.x<a.x)&&(a.x=c.x),(null==d.x||c.x>d.x)&&(d.x=c.x),(null==a.y||c.y<a.y)&&(a.y=c.y),(null==d.y||c.y>d.y)&&(d.y=c.y))}if(h.push(' ">'),i)if("object"==s(this.fillStyle)){var m=this.fillStyle,u=0,f={x:0,y:0},W=0,T=1;if("gradient"==m.type_){var p=m.x0_/this.arcScaleX_,v=m.y0_/this.arcScaleY_,_=m.x1_/this.arcScaleX_,S=m.y1_/this.arcScaleY_,x=this.getCoords_(p,v),C=this.getCoords_(_,S),b=C.x-x.x,w=C.y-x.y;(u=180*Math.atan2(b,w)/Math.PI)<0&&(u+=360),u<1e-6&&(u=0)}else{x=this.getCoords_(m.x0_,m.y0_);var D=d.x-a.x,P=d.y-a.y;f={x:(x.x-a.x)/D,y:(x.y-a.y)/P},D/=this.arcScaleX_*r,P/=this.arcScaleY_*r;var k=t.max(D,P);W=2*m.r0_/k,T=2*m.r1_/k-W}var q=m.colors_;q.sort((function(t,e){return t.offset-e.offset}));var M=q.length,O=q[0].color,E=q[M-1].color,H=q[0].alpha*this.globalAlpha,X=q[M-1].alpha*this.globalAlpha,Y=[];for(g=0;g<M;g++){var A=q[g];Y.push(A.offset*T+W+" "+A.color)}h.push('<g_vml_:fill type="',m.type_,'"',' method="none" focus="100%"',' color="',O,'"',' color2="',E,'"',' colors="',Y.join(","),'"',' opacity="',X,'"',' g_o_:opacity2="',H,'"',' angle="',u,'"',' focusposition="',f.x,",",f.y,'" />')}else h.push('<g_vml_:fill color="',o,'" opacity="',l,'" />');else{var z=this.lineScale_*this.lineWidth;z<1&&(l*=z),h.push("<g_vml_:stroke",' opacity="',l,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',function(t){switch(t){case"butt":return"flat";case"round":return"round";default:return"square"}}(this.lineCap),'"',' weight="',z,'px"',' color="',o,'" />')}h.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",h.join(""))},v.fill=function(){this.stroke(!0)},v.closePath=function(){this.currentPath_.push({type:"close"})},v.getCoords_=function(t,e){var i=this.m_;return{x:r*(t*i[0][0]+e*i[1][0]+i[2][0])-5,y:r*(t*i[0][1]+e*i[1][1]+i[2][1])-5}},v.save=function(){var t={};T(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=W([[1,0,0],[0,1,0],[0,0,1]],this.m_)},v.restore=function(){T(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},v.translate=function(t,e){S(this,W([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},v.rotate=function(t){var e=h(t),s=i(t);S(this,W([[e,s,0],[-s,e,0],[0,0,1]],this.m_),!1)},v.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,S(this,W([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},v.transform=function(t,e,i,s,h,n){S(this,W([[t,e,0],[i,s,0],[h,n,1]],this.m_),!0)},v.setTransform=function(t,e,i,s,h,n){S(this,[[t,e,0],[i,s,0],[h,n,1]],!0)},v.clip=function(){},v.arcTo=function(){},v.createPattern=function(){return new C},x.prototype.addColorStop=function(t,e){e=y(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=d,CanvasRenderingContext2D=p,CanvasGradient=x,CanvasPattern=C}();var n=function(s){var n=s.id,o=void 0===n?"1":n,r=s.pattern,l=void 0===r?"#####":r,a=s.textopredefinido,d=void 0===a?"TUTEC":a,g=s.width,c=void 0===g?300:g,m=s.height,u=void 0===m?180:m,f=s.colorOn,W=void 0===f?"#4d91cd":f,T=s.colorOff,y=void 0===T?"#53595e45":T,p=s.cantidadSegmentos,v=void 0===p?14:p,_=s.altoDisplay,S=void 0===_?23.5:_,x=s.anchoDisplay,C=void 0===x?14.5:x,b=s.distanciaEntreDigitos,w=void 0===b?2.5:b,D=s.anchoSegmento,P=void 0===D?3:D,k=s.distanciaSegmento,q=void 0===k?.3:k,M=s.tipoBorde,O=void 0===M?3:M,E=s.anguloDisplay,H=void 0===E?6:E,X=e(null),Y=e(null);return i((function(){if(X.current){var t=[7,14,16].includes(v)?v:7,e=[0,1,2,3].includes(O)?O:3;Y.current||(Y.current=new h("display-".concat(o)));var i=Y.current;return i.pattern=l,i.displayAngle=H,i.digitHeight=S,i.digitWidth=C,i.digitDistance=w,i.segmentWidth=P,i.segmentDistance=q,i.segmentCount=t,i.cornerType=e,i.colorOn=W,i.colorOff=y,i.draw(),i.setValue(d),function(){Y.current=null}}}),[o,l,d,W,y,v,S,C,w,P,q,O,H]),t.createElement("canvas",{ref:X,id:"display-".concat(o),width:c,height:u})};export{n as Segments,n as default};
